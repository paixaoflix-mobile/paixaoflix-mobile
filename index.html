<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Paix√£oFlix TV ‚Äî v1.4.1</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#000">

<link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial, sans-serif;
  overflow:hidden;
}

/* Layout */
.app{display:flex;height:100vh}

/* SIDEBAR */
.sidebar{
  width:340px;
  background:linear-gradient(180deg,#0b0b0b,#050505);
  display:flex;
  flex-direction:column;
  box-shadow:inset -4px 0 12px rgba(0,0,0,.8);
}

/* TOPO FIXO */
.sidebar-top{
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  flex-shrink:0;
}

.logo img{
  width:clamp(100px,18vh,240px);
  display:block;
  margin:0 auto;
}

.datetime{text-align:center;font-size:14px;opacity:.85}

.search-box input{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:none;
  background:#1a1a1a;
  color:#fff;
}

/* MENUS COM SCROLL */
.menu-scroll{
  padding:16px;
  overflow-y:auto;
  flex:1;
}

/* GRID */
.menu-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}

.menu-btn{
  background:linear-gradient(180deg,#2a2a2a,#161616);
  border:none;
  border-radius:12px;
  padding:14px 6px;
  font-size:14px;
  color:#fff;
  cursor:pointer;
  box-shadow:0 6px 0 #0a0a0a,0 10px 18px rgba(0,0,0,.7);
  transition:.15s;
}
.menu-btn:active{
  transform:translateY(4px);
  box-shadow:0 2px 0 #0a0a0a,0 6px 10px rgba(0,0,0,.8);
}
.menu-btn:focus{
  outline:none;
  box-shadow:0 6px 0 #e50914,0 12px 24px rgba(229,9,20,.9);
}

/* CONTE√öDO */
.content{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle,#111,#000);
}

.player-wrapper{
  width:90%;
  height:90%;
  opacity:0;
  transform:scale(.95);
  transition:.4s;
}
.player-wrapper.active{
  opacity:1;
  transform:scale(1);
}
.video-js{width:100%;height:100%}
</style>
</head>

<body>
<div class="app">

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="sidebar-top">
    <div class="logo">
      <img src="https://raw.githubusercontent.com/VisorFinances/lista-paixaoflix/refs/heads/main/logoof512.png">
    </div>
    <div class="datetime" id="datetime"></div>
    <div class="search-box">
      <input type="text" placeholder="Qual sua escolha de hoje?">
    </div>
  </div>

  <div class="menu-scroll">
    <div class="menu-grid">
      <button class="menu-btn" data-type="m3u" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/canais.m3u">üì∫ Tv ao Vivo</button>
      <button class="menu-btn" data-type="json" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/filmes.json">üé¨ Filmes</button>
      <button class="menu-btn" data-type="json" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/series.json">üì∫ S√©ries</button>
      <button class="menu-btn" data-type="json" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/Favoritos.json">‚≠ê Favoritos</button>
      <button class="menu-btn" data-type="m3u" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/kids_canais.m3u">üßí Tv Kids</button>
      <button class="menu-btn" data-type="json" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/kids_filmes.json">üçø Filmes Kids</button>
      <button class="menu-btn" data-type="json" data-url="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/main/data/kids_series.json">üì∫ S√©ries Kids</button>
    </div>
  </div>
</aside>

<!-- PLAYER -->
<main class="content">
  <div class="player-wrapper" id="playerWrapper">
    <video id="player" class="video-js vjs-big-play-centered" controls playsinline></video>
  </div>
</main>

</div>

<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>

<script>
const player = videojs("player",{responsive:true,fluid:true});
const wrapper=document.getElementById("playerWrapper");

/* Data/Hora */
function atualizarDataHora(){
  const d=new Date();
  const dias=["domingo","segunda-feira","ter√ßa-feira","quarta-feira","quinta-feira","sexta-feira","s√°bado"];
  document.getElementById("datetime").textContent=
    `${dias[d.getDay()]} ${d.toLocaleDateString("pt-BR")} | ${d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`;
}
atualizarDataHora();
setInterval(atualizarDataHora,60000);

/* Carregar dados SEM cache manual */
async function carregarFonte(btn){
  const url=btn.dataset.url;
  const tipo=btn.dataset.type;

  const res=await fetch(url,{cache:"no-store"});
  if(tipo==="m3u"){
    const text=await res.text();
    const stream=text.split("\n").find(l=>l.startsWith("http"));
    tocar(stream);
  }else{
    const json=await res.json();
    tocar(json[0].url);
  }
}

function tocar(url){
  player.src({src:url,type:"application/x-mpegURL"});
  player.play();
  wrapper.classList.add("active");
}

document.querySelectorAll(".menu-btn").forEach(btn=>{
  btn.onclick=()=>carregarFonte(btn);
});

/* Controle remoto */
document.addEventListener("keydown",e=>{
  if(e.key==="Enter")document.activeElement.click();
  if(["Escape","Backspace"].includes(e.key)){
    player.pause();
    wrapper.classList.remove("active");
  }
});
</script>
</body>
</html>
