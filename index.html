<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Paix√£oFlix TV ‚Äî v12.0 Arena Master</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet"/>
    
    <style>
        :root { --primary: #e50914; --sports: #00ff41; --bg-dark: #0b0e11; --text: #ffffff; }
        * { box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { margin: 0; background: var(--bg-dark); color: var(--text); overflow: hidden; width: 100vw; height: 100vh; }

        /* MARCA D'√ÅGUA CORINTHIANS */
        .watermark-bg {
            position: fixed; top: 50%; left: 60%; transform: translate(-50%, -50%);
            width: 600px; opacity: 0.03; pointer-events: none; z-index: 0;
        }

        .app-container { display: flex; height: 100vh; width: 100vw; position: relative; z-index: 1; }
        
        /* SIDEBAR */
        .sidebar { width: 260px; background: #000; display: flex; flex-direction: column; padding: 15px; border-right: 1px solid #222; }
        
        /* EMBLEMAS DAS LIGAS (ACIMA DO MENU) */
        .leagues-icons { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; padding: 10px; background: #111; border-radius: 8px; }
        .leagues-icons img { width: 100%; opacity: 0.6; transition: 0.3s; cursor: pointer; }
        .leagues-icons img:hover { opacity: 1; transform: scale(1.1); }

        .nav-menu button { width: 100%; padding: 12px; margin-bottom: 8px; border: none; border-radius: 8px; background: #1a1a1a; color: #fff; cursor: pointer; text-align: left; font-weight: 600; font-size: 13px; }
        .nav-menu button:focus { background: var(--primary); outline: 2px solid #fff; }

        /* DASHBOARD ARENA */
        .content-area { flex: 1; overflow-y: auto; padding: 25px; position: relative; }
        .arena-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 30px; }
        
        /* CARDS DE JOGO (AO VIVO) */
        .game-grid { display: grid; grid-template-columns: 1fr 380px; gap: 25px; }
        .score-card { 
            background: rgba(22, 27, 34, 0.8); border-radius: 15px; padding: 20px; 
            margin-bottom: 15px; border: 1px solid #30363d; display: flex; align-items: center; 
            position: relative; transition: 0.3s; cursor: pointer;
        }
        .score-card:focus { border-color: var(--sports); background: #21262d; transform: translateX(10px); }
        
        .team-block { display: flex; flex-direction: column; align-items: center; width: 35%; text-align: center; }
        .team-block img { width: 50px; height: 50px; margin-bottom: 8px; }
        .scorer-info { font-size: 9px; color: var(--sports); margin-top: 5px; font-weight: bold; }
        .scorer-img { width: 25px !important; height: 25px !important; border-radius: 50%; border: 1px solid var(--sports); }

        .center-score { width: 30%; text-align: center; }
        .score-num { font-size: 32px; font-weight: 800; letter-spacing: 5px; }
        .live-badge { background: #ff0000; padding: 2px 8px; border-radius: 4px; font-size: 10px; animation: blink 1s infinite; }

        /* SESS√ÉO EM BREVE (ESTILO FOTO) */
        .upcoming-section { margin-top: 40px; }
        .upcoming-card {
            background: #1a1a1a; border-radius: 10px; padding: 15px; display: inline-block; 
            width: 280px; margin-right: 15px; border-bottom: 4px solid #333; cursor: pointer;
        }
        .upcoming-card:focus { border-color: var(--primary); outline: none; }
        .upcoming-footer { margin-top: 10px; border-top: 1px solid #333; padding-top: 8px; font-size: 10px; color: #888; display: flex; justify-content: space-between; }

        /* PLAYER */
        #player-overlay { position: fixed; inset: 0; background: #000; z-index: 9999; display: none; }
        .vjs-big-play-centered { width: 100% !important; height: 100% !important; }

        @keyframes blink { 0% {opacity:1} 50% {opacity:0.3} 100% {opacity:1} }
    </style>
</head>
<body>

<img src="https://upload.wikimedia.org/wikipedia/pt/b/b4/Corinthians_simbolo.png" class="watermark-bg" alt="Corinthians">

<div class="app-container">
    <aside class="sidebar">
        <div class="logo"><img src="https://raw.githubusercontent.com/paixaoflix-mobile/paixaoflix-mobile/refs/heads/main/logoof512.png" width="120"></div>
        
        <div class="leagues-icons">
            <img src="https://media.api-sports.io/football/leagues/39.png" onclick="loadLeague(39)" title="Premier League">
            <img src="https://media.api-sports.io/football/leagues/13.png" onclick="loadLeague(13)" title="Brasileir√£o">
            <img src="https://media.api-sports.io/football/leagues/140.png" onclick="loadLeague(140)" title="La Liga">
            <img src="https://media.api-sports.io/football/leagues/2.png" onclick="loadLeague(2)" title="Champions League">
        </div>

        <nav class="nav-menu">
            <button style="color:var(--sports); border:1px solid var(--sports);" onclick="showArena()">‚öΩ ARENA FUTEBOL</button>
            <button onclick="window.location.href='basquete.html'">üèÄ ARENA BASQUETE</button>
            <button onclick="smartLoad('canais.m3u')">üì° TV AO VIVO</button>
            <button onclick="smartLoad('filmes.json')">üé¨ FILMES</button>
            <button onclick="smartLoad('series.json')">üì∫ S√âRIES</button>
        </nav>
    </aside>

    <main class="content-area">
        <div id="arena-view">
            <div class="arena-header">
                <div>
                    <h1 style="margin:0; font-weight:800; letter-spacing:-1px;">JOGOS AO VIVO</h1>
                    <p style="color:var(--sports); margin:0; font-size:12px;">ESTAT√çSTICAS EM TEMPO REAL VIA API-FOOTBALL</p>
                </div>
                <div id="clock" style="font-weight:600; color:#888;"></div>
            </div>

            <div class="game-grid">
                <div id="live-games-container">
                    </div>

                <div class="mini-player-side">
                    <div style="background:#000; border-radius:12px; overflow:hidden; border:1px solid #333;">
                        <video id="preview-video" class="video-js vjs-default-skin vjs-16-9" controls muted></video>
                        <div style="padding:15px;">
                            <span id="match-title" style="font-size:14px; font-weight:600;">Selecione uma transmiss√£o</span>
                            <button onclick="fullscreen()" style="width:100%; margin-top:10px; padding:10px; background:var(--primary); border:none; color:white; border-radius:5px; font-weight:bold; cursor:pointer;">ASSISTIR EM TELA CHEIA</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="upcoming-section">
                <h3 style="border-left: 4px solid var(--primary); padding-left: 10px;">PR√ìXIMOS JOGOS (EM BREVE)</h3>
                <div id="upcoming-container" style="overflow-x:auto; white-space:nowrap; padding-bottom:10px;">
                    </div>
            </div>
        </div>

        <div id="main-grid" class="grid" style="display:none;"></div>
    </main>
</div>

<div id="player-overlay">
    <button onclick="closePlayer()" style="position:absolute; top:20px; left:20px; z-index:100; padding:10px 20px; background:red; color:white; border:none; cursor:pointer; font-weight:bold; border-radius:5px;">SAIR DO JOGO</button>
    <video id="main-player" class="video-js vjs-big-play-centered"></video>
</div>

<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
<script>
    const API_KEY = "b4e09054a088c25504269d2761496bae";
    const CORINTHIANS_ID = 131; // ID oficial na API-Football
    let player = videojs('main-player');
    let preview = videojs('preview-video');

    window.onload = () => {
        updateTime();
        loadArenaData();
        setInterval(updateTime, 1000);
    };

    function updateTime() {
        const d = new Date();
        document.getElementById('clock').innerHTML = d.toLocaleDateString('pt-BR', {weekday:'short', day:'2-digit', month:'short'}).toUpperCase() + " " + d.toLocaleTimeString();
    }

    async function loadArenaData() {
        // Busca jogos Ao Vivo de todas as ligas principais
        const leagues = [13, 72, 39, 140, 2];
        let allLive = [];
        
        for(let id of leagues) {
            const r = await fetch(`https://v3.football.api-sports.io/fixtures?live=all&league=${id}`, {
                headers: {"x-rapidapi-key": API_KEY, "x-rapidapi-host": "v3.football.api-sports.io"}
            });
            const data = await r.json();
            if(data.response) allLive = [...allLive, ...data.response];
        }
        renderLive(allLive);
        loadUpcoming();
    }

    function renderLive(games) {
        const container = document.getElementById('live-games-container');
        if(games.length === 0) {
            container.innerHTML = "<p style='color:#555;'>Nenhum jogo importante ao vivo agora. Veja a agenda abaixo.</p>";
            return;
        }

        container.innerHTML = games.map(g => {
            // L√≥gica do Marcador de Gol (Simula√ß√£o de Jogador por Evento)
            const hasGoal = g.goals.home > 0 || g.goals.away > 0;
            return `
            <div class="score-card" tabindex="0" onclick="startStream('${g.teams.home.name} vs ${g.teams.away.name}')">
                <div class="team-block">
                    <img src="${g.teams.home.logo}">
                    <span style="font-size:12px;">${g.teams.home.name}</span>
                </div>
                
                <div class="center-score">
                    <div class="live-badge">AO VIVO</div>
                    <div class="score-num">${g.goals.home} - ${g.goals.away}</div>
                    <div style="font-size:10px; color:var(--sports);">${g.fixture.status.elapsed}'</div>
                </div>

                <div class="team-block">
                    <img src="${g.teams.away.logo}">
                    <span style="font-size:12px;">${g.teams.away.name}</span>
                </div>
            </div>`;
        }).join('');
    }

    async function loadUpcoming() {
        // Busca pr√≥ximos jogos (Destaque Corinthians)
        const r = await fetch(`https://v3.football.api-sports.io/fixtures?team=${CORINTHIANS_ID}&next=10`, {
            headers: {"x-rapidapi-key": API_KEY, "x-rapidapi-host": "v3.football.api-sports.io"}
        });
        const data = await r.json();
        const container = document.getElementById('upcoming-container');
        
        container.innerHTML = data.response.map(g => `
            <div class="upcoming-card" tabindex="0">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <img src="${g.teams.home.logo}" width="30">
                    <span style="font-size:11px; font-weight:bold;">VS</span>
                    <img src="${g.teams.away.logo}" width="30">
                </div>
                <div style="text-align:center; font-size:10px; margin-top:5px;">
                    ${new Date(g.fixture.date).toLocaleString('pt-BR', {day:'2-digit', month:'2-digit', hour:'2-digit', minute:'2-digit'})}
                </div>
                <div class="upcoming-footer">
                    <span>${g.league.name}</span>
                    <span>${g.fixture.venue.name || 'Est√°dio'}</span>
                </div>
            </div>
        `).join('');
    }

    function startStream(title) {
        document.getElementById('match-title').innerText = title;
        // Link de teste (Substituir pelo seu link do M3U)
        const streamUrl = "https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8";
        preview.src({ src: streamUrl, type: 'application/x-mpegURL' });
        preview.play();
    }

    function fullscreen() {
        const src = preview.currentSrc();
        if(!src) return;
        document.getElementById('player-overlay').style.display = 'block';
        player.src({ src: src, type: 'application/x-mpegURL' });
        player.play();
    }

    function closePlayer() {
        player.pause();
        document.getElementById('player-overlay').style.display = 'none';
    }

    function showArena() {
        document.getElementById('main-grid').style.display = 'none';
        document.getElementById('arena-view').style.display = 'block';
    }

    async function smartLoad(file) {
        document.getElementById('arena-view').style.display = 'none';
        document.getElementById('main-grid').style.display = 'grid';
        // L√≥gica de carregamento de JSON/M3U anterior...
    }
</script>
</body>
</html>
